# ==============================================================================
# PRODUCTION CONFIGURATION FOR RENDER.COM
# ==============================================================================

# Server Configuration
server.port=${SERVER_PORT:8080}
server.servlet.context-path=/api

# ==============================================================================
# DATABASE CONFIGURATION - Railway MySQL
# ==============================================================================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://caboose.proxy.rlwy.net:18622/railway?useSSL=true&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:GjjTzjDTMnyDVXDLfUjzsZyLwbXnTWyb}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=false

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000

# ==============================================================================
# MONGODB CONFIGURATION
# ==============================================================================
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI:mongodb+srv://winnieph13_db_user:omGo7EArgtP9znfC@riverflowserver.dzruviv.mongodb.net/?retryWrites=true&w=majority&appName=RiverFlowServer}
spring.data.mongodb.database=${SPRING_DATA_MONGODB_DATABASE:riverflow}

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:winnieph13@gmail.com}
spring.mail.password=${SPRING_MAIL_PASSWORD:fjzaeivwjhblsvig}
spring.mail.from=${SPRING_MAIL_FROM:winnieph13@gmail.com}

# Email properties
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================
# Frontend URL (Vercel deployment)
app.frontend.url=${APP_FRONTEND_URL:http://localhost:3000}

# Backend URL (Render deployment)
app.backend.url=${APP_BACKEND_URL:http://localhost:8080/api}

# Token expiration
app.verification.expire-minutes=15

# ==============================================================================
# JWT CONFIGURATION
# ==============================================================================
app.jwt.secret=${JWT_SECRET:mySecretKeyForJWTTokenGenerationMustBe256BitsLongMinimumForHS256AlgorithmToWorkProperly}
app.jwt.access-token-expiration-ms=604800000
app.jwt.refresh-token-expiration-ms=604800000

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
app.cors.allowed-origins=${APP_FRONTEND_URL:http://localhost:3000}

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
logging.level.root=INFO
logging.level.com.riverflow=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=WARN

# ==============================================================================
# ACTUATOR FOR HEALTH CHECK
# ==============================================================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.defaults.enabled=true

